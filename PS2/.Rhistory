setwd("C:/Users/Dad/Desktop/PS2")
library(readr)
immigration <- read_csv("immigration.csv")
View(immigration)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
library(patchwork)
immigration <- read_csv("immigration.csv")
View(immigration)
library(tidyverse)
library(ggplot2)
library(patchwork)
immigration <- read_csv("immigration.csv")
library(tidyverse)
library(ggplot2)
library(patchwork)
immigration <- read_csv("immigration.csv")
immigration
# load libraries
library(readr)
library(tidyverse)
library(ggplot2)
library(patchwork)
immigration <- read_csv("immigration.csv")that
# load libraries
library(readr)
library(tidyverse)
library(ggplot2)
library(patchwork)
immigration <- read_csv("immigration.csv")
immigration
# Ensure the 'value' column is a factor with ordered levels
immigration$value <- factor(immigration$value, levels = c("Agree", "Disagree", "Hard to say", "No response"))
# Separate data for plotting
agree_disagree <- immigration %>% filter(value %in% c("Agree", "Disagree"))
hard_to_say <- immigration %>% filter(value == "Hard to say")
no_response <- immigration %>% filter(value == "No response")
plot1 <- ggplot(agree_disagree, aes(x = var, y = ifelse(value == "Agree", freq, -freq), fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
scale_y_continuous(labels = abs) +
labs(
title = "Effects of Immigration: Agree vs Disagree",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Ensure the 'value' column is a factor with ordered levels
immigration$value <- factor(immigration$value, levels = c("Agree", "Disagree", "Hard to say", "No response"))
# Separate data for plotting
agree_disagree <- immigration %>% filter(value %in% c("Agree", "Disagree"))
hard_to_say <- immigration %>% filter(value == "Hard to say")
no_response <- immigration %>% filter(value == "No response")
# Plot1: Divergent bar chart for "Agree" and "Disagree"
plot1 <- ggplot(agree_disagree, aes(x = var, y = ifelse(value == "Agree", freq, -freq), fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
scale_y_continuous(labels = abs) +
labs(
title = "Effects of Immigration: Agree vs Disagree",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Plot2: Simple bar chart for "Hard to Say"
plot2 <- ggplot(hard_to_say, aes(x = var, y = freq, fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(
title = "Effects of Immigration: Hard to Say",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Plot3: Simple bar chart for "No Response"
plot3 <- ggplot(no_response, aes(x = var, y = freq, fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(
title = "Effects of Immigration: No Response",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Combine all plots side-by-side
library(patchwork)  # Install via install.packages("patchwork") if needed
final_plot <- (plot1 | plot2 | plot3) +
plot_annotation(
title = "Responses to Immigration Questions in New Zealand",
subtitle = "Divergent bar chart for Agree/Disagree and separate charts for other responses",
caption = "Source: Immigration Survey Data"
)
# Display the final combined plot
print(final_plot)
Notes:
# Ensure the 'value' column is a factor with ordered levels
immigration$value <- factor(immigration$value, levels = c("Agree", "Disagree", "Hard to say", "No response"))
# Separate data for plotting
agree_disagree <- immigration %>% filter(value %in% c("Agree", "Disagree"))
hard_to_say <- immigration %>% filter(value == "Hard to say")
no_response <- immigration %>% filter(value == "No response")
# Plot1: Divergent bar chart for "Agree" and "Disagree"
plot1 <- ggplot(agree_disagree, aes(x = var, y = ifelse(value == "Agree", freq, -freq), fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
scale_y_continuous(labels = abs) +
labs(
title = "Effects of Immigration: Agree vs Disagree",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Plot2: Simple bar chart for "Hard to Say"
plot2 <- ggplot(hard_to_say, aes(x = var, y = freq, fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(
title = "Effects of Immigration: Hard to Say",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Plot3: Simple bar chart for "No Response"
plot3 <- ggplot(no_response, aes(x = var, y = freq, fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(
title = "Effects of Immigration: No Response",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Combine all plots side-by-side
library(patchwork)  # Install via install.packages("patchwork") if needed
final_plot <- (plot1 | plot2 | plot3) +
plot_annotation(
title = "Responses to Immigration Questions in New Zealand",
subtitle = "Divergent bar chart for Agree/Disagree and separate charts for other responses",
caption = "Source: Immigration Survey Data"
)
# Display the final combined plot
print(final_plot)
# Ensure the 'value' column is a factor with ordered levels
immigration$value <- factor(immigration$value, levels = c("Agree", "Disagree", "Hard to say", "No response"))
# Separate data for plotting
agree_disagree <- immigration %>% filter(value %in% c("Agree", "Disagree"))
hard_to_say <- immigration %>% filter(value == "Hard to say")
no_response <- immigration %>% filter(value == "No response")
# Plot1: Divergent bar chart for "Agree" and "Disagree"
plot1 <- ggplot(agree_disagree, aes(x = var, y = ifelse(value == "Agree", freq, -freq), fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
scale_y_continuous(labels = abs) +
labs(
title = "Effects of Immigration: Agree vs Disagree",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Plot2: Simple bar chart for "Hard to Say"
plot2 <- ggplot(hard_to_say, aes(x = var, y = freq, fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(
title = "Effects of Immigration: Hard to Say",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Plot3: Simple bar chart for "No Response"
plot3 <- ggplot(no_response, aes(x = var, y = freq, fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(
title = "Effects of Immigration: No Response",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Combine all plots side-by-side
final_plot <- (plot1 + plot2 + plot3) +
plot_annotation(
title = "Responses to Immigration Questions in New Zealand",
subtitle = "Divergent bar chart for Agree/Disagree and separate charts for other responses",
caption = "Source: Immigration Survey Data"
)
# Display the final combined plot
final_plot
# Ensure the 'value' column is a factor with ordered levels
immigration$value <- factor(immigration$value, levels = c("Agree", "Disagree", "Hard to say", "No response"))
# Separate data for plotting
agree_disagree <- immigration %>% filter(value %in% c("Agree", "Disagree"))
hard_to_say <- immigration %>% filter(value == "Hard to say")
no_response <- immigration %>% filter(value == "No response")
# Plot1: Divergent bar chart for "Agree" and "Disagree"
plot1 <- ggplot(agree_disagree, aes(x = var, y = ifelse(value == "Agree", freq, -freq), fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
scale_y_continuous(labels = abs) +
labs(
title = "Effects of Immigration: Agree vs Disagree",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Plot2: Simple bar chart for "Hard to Say"
plot2 <- ggplot(hard_to_say, aes(x = var, y = freq, fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(
title = "Effects of Immigration: Hard to Say",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Plot3: Simple bar chart for "No Response"
plot3 <- ggplot(no_response, aes(x = var, y = freq, fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(
title = "Effects of Immigration: No Response",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Combine all plots side-by-side
final_plot <- (plot1 + plot2 + plot3) +
plot_annotation(
title = "Responses to Immigration Questions in New Zealand",
subtitle = "Divergent bar chart for Agree/Disagree and separate charts for other responses",
caption = "Source: Immigration Survey Data"
)+plot_layout(ncol = 2)
# Display the final combined plot
final_plot
# Ensure the 'value' column is a factor with ordered levels
immigration$value <- factor(immigration$value, levels = c("Agree", "Disagree", "Hard to say", "No response"))
# Separate data for plotting
agree_disagree <- immigration %>% filter(value %in% c("Agree", "Disagree"))
hard_to_say <- immigration %>% filter(value == "Hard to say")
no_response <- immigration %>% filter(value == "No response")
# Plot1: Divergent bar chart for "Agree" and "Disagree"
plot1 <- ggplot(agree_disagree, aes(x = var, y = ifelse(value == "Agree", freq, -freq), fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
scale_y_continuous(labels = abs) +
labs(
title = "Effects of Immigration: Agree vs Disagree",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Plot2: Simple bar chart for "Hard to Say"
plot2 <- ggplot(hard_to_say, aes(x = var, y = freq, fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(
title = "Effects of Immigration: Hard to Say",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Plot3: Simple bar chart for "No Response"
plot3 <- ggplot(no_response, aes(x = var, y = freq, fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(
title = "Effects of Immigration: No Response",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Combine all plots side-by-side
final_plot <- (plot1 + plot2 + plot3) +
plot_annotation(
title = "Responses to Immigration Questions in New Zealand",
subtitle = "Divergent bar chart for Agree/Disagree and separate charts for other responses",
caption = "Source: Immigration Survey Data"
)+
plot_layout(ncol = 2, heights = c(1, 1))
# Display the final combined plot
final_plot
# Ensure the 'value' column is a factor with ordered levels
immigration$value <- factor(immigration$value, levels = c("Agree", "Disagree", "Hard to say", "No response"))
# Separate data for plotting
agree_disagree <- immigration %>% filter(value %in% c("Agree", "Disagree"))
hard_to_say <- immigration %>% filter(value == "Hard to say")
no_response <- immigration %>% filter(value == "No response")
# Plot1: Divergent bar chart for "Agree" and "Disagree"
plot1 <- ggplot(agree_disagree, aes(x = var, y = ifelse(value == "Agree", freq, -freq), fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
scale_y_continuous(labels = abs) +
labs(
title = "Agree vs Disagree",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Plot2: Simple bar chart for "Hard to Say"
plot2 <- ggplot(hard_to_say, aes(x = var, y = freq, fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(
title = "Hard to Say",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Plot3: Simple bar chart for "No Response"
plot3 <- ggplot(no_response, aes(x = var, y = freq, fill = value)) +
geom_bar(stat = "identity") +
coord_flip() +
labs(
title = "No Response",
x = "Statements",
y = "Percentage",
fill = "Response"
) +
theme_minimal()
# Combine all plots side-by-side
final_plot <- (plot1 + plot2 + plot3) +
plot_annotation(
title = "Responses to Immigration Questions in New Zealand",
subtitle = "Divergent bar chart for Agree/Disagree and separate charts for other responses",
caption = "Source: Immigration Survey Data"
)+
plot_layout(ncol = 2, heights = c(1, 1))
# Display the final combined plot
final_plot
## 2. Analyse the graph
```{r mtcars, echo = T}
# Create the scatterplot
ggplot(mtcars, aes(x = wt, y = mpg, color = cyl)) +
geom_point(size = 4) +                        # Add points with size 4
geom_text(aes(label = rownames(mtcars))) +    # Add text labels with car names
labs(
title = "Scatterplot of Car Weight vs. Fuel Efficiency",
x = "Weight (1000 lbs)",                   # Label for x-axis
y = "Miles Per Gallon (mpg)",              # Label for y-axis
color = "Cylinders"                        # Legend title
) +
theme_minimal()
View(immigration)
